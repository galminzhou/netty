package io.netty.test.test01.client;import io.netty.buffer.ByteBuf;import io.netty.buffer.Unpooled;import io.netty.channel.ChannelHandler;import io.netty.channel.ChannelHandlerContext;import io.netty.channel.SimpleChannelInboundHandler;import io.netty.util.CharsetUtil;@ChannelHandler.Sharable /** Sharable: 标记此类可在Channel共享 */public class EchoClientHandler extends SimpleChannelInboundHandler<ByteBuf> {    @Override    public void channelActive(ChannelHandlerContext ctx) throws Exception {        // 当被通知此channel是活跃的时候，发送一次通知        ctx.writeAndFlush(Unpooled.copiedBuffer("Netty rocks!", CharsetUtil.UTF_8));    }    @Override    protected void channelRead0(ChannelHandlerContext ctx, ByteBuf in) throws Exception {        // 记录收到的消息        System.out.println("Client received: " + in.toString(CharsetUtil.UTF_8));    }    @Override    public void exceptionCaught(ChannelHandlerContext ctx, Throwable cause) throws Exception {        // 记录日志错误并关闭channel        cause.printStackTrace();        ctx.close();    }}